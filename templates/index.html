{% load staticfiles %}
<!DOCTYPE html>
<html ng-app="texcavatorApp">
    <head>
        <meta charset="utf-8"> 
        <title>{{ PROJECT_NAME }}</title>

        <link rel="stylesheet" href="{% static 'bootstrap-css-only/css/bootstrap.css' %}">
        <link rel="stylesheet" href="{% static 'nvd3/nv.d3.css' %}"/>
        <link rel="stylesheet" href="{% static 'css/style.css' %}">
    </head>

    <body ng-controller="texcavatorCtrl">

    <nav class="navbar navbar-default navbar-static-top" role="navigation">

        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="#">{{ PROJECT_NAME }}</a>
            </div>
            <div id="navbar" class="navbar-collapse collapse">
                <ul class="nav navbar-nav">
                    <li><a href="#about">Saved queries and export</a></li>
                </ul>
                <ul class="nav navbar-nav navbar-right">
                    <li><a href="">Help</a></li>
                    <li><a href="">Settings</a></li>
                    <li><a href="">Log out</a></li>
                </ul>
            </div><!--/.nav-collapse -->
        </div>
    </nav>

        <div class="container">
            <!-- <div class="row">
                <div class="col-sm-1">
                    box
                </div>
                <div class="col-sm-1">
                    box
                </div>
                <div class="col-sm-1">
                    box
                </div>
                <div class="col-sm-1">
                    box
                </div>
                <div class="col-sm-1">
                    box
                </div>
                <div class="col-sm-1">
                    box
                </div>
                <div class="col-sm-1">
                    box
                </div>
                <div class="col-sm-1">
                    box
                </div>
                <div class="col-sm-1">
                    box
                </div>
                <div class="col-sm-1">
                    box
                </div>
                <div class="col-sm-1">
                    box
                </div>
                <div class="col-sm-1">
                    box
                </div>
            </div> -->

            <!-- search form -->
            <form id="search" role="form">

                <!-- metadata row -->
                <div class="row">
                    <div class="col-sm-2 col-sm-offset-3 form-group">
                        <label class="control-label">Article type</label>
                        <div class="checkbox">
                            <label><input type="checkbox" value="" checked>article</label>
                        </div>
                        <div class="checkbox">
                            <label><input type="checkbox" value="">advertisements</label>
                        </div>
                        <div class="checkbox">
                            <label><input type="checkbox" value="">illustration</label>
                        </div>
                        <div class="checkbox">
                            <label><input type="checkbox" value="">family message</label>
                        </div>
                    </div>
                    <div class="col-sm-2 form-group">
                        <label class="control-label">Distributions</label>
                        <div class="checkbox">
                            <label><input type="checkbox" value="" checked>national</label>
                        </div>
                        <div class="checkbox">
                            <label><input type="checkbox" value="" checked>regional</label>
                        </div>
                        <div class="checkbox">
                            <label><input type="checkbox" value="">Antilles</label>
                        </div>
                        <div class="checkbox">
                            <label><input type="checkbox" value="">Surinam</label>
                        </div>
                        <div class="checkbox">
                            <label><input type="checkbox" value="">Indonesia</label>
                        </div>
                    </div>
                    <div class="col-sm-2">
                        <label class="control-label">Time period</label>
                        <div class="form-horizontal">
                            <div class="form-group">
                                <label class="control-label col-sm-3" for="date-lower">From</label>
                                <div class="col-sm-9">
                                    <input type="text" class="form-control" id="date-lower" value="01-01-1850">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="control-label col-sm-3" for="date-upper">To</label>
                                <div class="col-sm-9">
                                    <input type="text" class="form-control" id="date-upper" value="31-12-1990">
                                </div>
                            </div>
                        </div>
                        <div class="help-block">Date format: dd-mm-yyyy</div>
                    </div>
                </div>

                <!-- metadata summary row - default options -->
                <div class="row">
                    <div class="col-sm-11">
                        <p style="line-height: 190%;">
                            Searching: <b>Article type(s)</b>: <span class="label label-default biggerFont">article</span>; <b>Distribution(s)</b>: <span class="label label-default biggerFont">national</span> <span class="label label-default biggerFont">regional</span>; <b>Time period</b>: <span class="label label-default biggerFont">01-01-1850</span> - <span class="label label-default biggerFont">31-12-1990</span>
                        </p>
                    </div>
                    <div class="col-sm-1">
                        <a><span class="glyphicon glyphicon-chevron-up"></span></a>
                    </div>
                </div>

                <!-- metadata summary row - all options -->
                <div class="row">
                    <div class="col-sm-11">
                        <p style="line-height: 190%;">
                            Searching: <b>Article type(s)</b>: <span class="label label-default biggerFont">article</span> <span class="label label-default biggerFont">advertisement</span> <span class="label label-default biggerFont">illustration</span> <span class="label label-default biggerFont">family message</span>; <b>Distribution(s)</b>: <span class="label label-default biggerFont">national</span> <span class="label label-default biggerFont">regional</span> <span class="label label-default biggerFont">Antilles</span> <span class="label label-default biggerFont">Surinam</span> <span class="label label-default biggerFont">Indonesia</span>; <b>Time period</b>: <span class="label label-default biggerFont">01-01-1850</span> - <span class="label label-default biggerFont">31-12-1990</span>
                        </p>
                    </div>
                    <div class="col-sm-1">
                        <button class="btn btn-primary"><span class="glyphicon glyphicon-list"></span></button>
                    </div>
                </div>

                <!-- row containing search box -->
                <div class="row">
                    <div class="col-sm-11 form-group">
                        <input ng-model="queryStr" type="text" class="form-control" id="queryStr" autofocus>
                    </div>
                    <div class="col-sm-1 form-group">
                        <button ng-click="search()" type="submit" class="btn btn-primary">Search</button>
                    </div>
                </div>

                <!-- row containg search options + save -->
                <div class="row">
                    <div class="col-sm-3 form-inline">
                        <div class="form-group">
                            <label class="control-label">Order results by</label>
                            <div class="radio">
                                <label><input type="radio" name="optradio" checked>Score</label>
                            </div>
                            <div class="radio">
                                <label><input type="radio" name="optradio">Date</label>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-5 col-sm-offset-3">
                        <!-- <div class="form-group">
                            <label class="control-label">Save query</label>
                        </div> -->
                        <div class="form-horizontal">
                            <div class="form-group">
                                <label class="control-label col-sm-2" for="query-title">Title</label>
                                <div class="col-sm-10">
                                    <input type="text" class="form-control" id="query-title">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="control-label col-sm-2" for="query-comment">Comment</label>
                                <div class="col-sm-10">
                                    <textarea class="form-control" rows="3" id="query-comment"></textarea>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-1 buttonBottomBox">
                        <!-- <div class="form-group">
                            <button type="submit" class="btn btn-primary">Save as ...</button>
                        </div> -->
                        <div class="form-group">
                            <button type="submit" class="btn btn-primary">Save query</button>
                        </div>
                    </div>
                </div>

            </form>

            <div class="row">
                <!-- list of search results -->
                <div class="col-sm-3">
                    {% verbatim %}
                    <h2>Results <span class="badge">{{ totalSearchResults }}</span></h2>
                    <div>
                        {{ totalSearchResults }} results; max score: {{ maxScore | number:2 }}
                    </div>
                    <ol ng-show="searchResults" start="{{ startRecord }}">
                        <li style="font-weight: bold;">
                            <a tooltip="{{ selectedResult.fields.article_dc_title[0] }}" tooltip-placement="right">{{ selectedResult.fields.article_dc_title[0] | characters:28 }}</a><br>
                            {{ selectedResult.fields.paper_dc_date[0] }}<br>
                            {{ selectedResult.fields.paper_dc_title[0] }}<br>
                            {{ selectedResult.fields.paper_dcterms_temporal[0] }} - {{ selectedResult.fields.paper_dcterms_spatial[0] }}<br>
                            Score: {{ selectedResult._score | number:2 }}
                        </li>

                        <li ng-repeat="item in searchResults">
                            <a tooltip="{{ item.fields.article_dc_title[0] }}" tooltip-placement="right">{{ item.fields.article_dc_title[0] | characters:28 }}</a><br>
                            {{ item.fields.paper_dc_date[0] }}<br>
                            {{ item.fields.paper_dc_title[0] }}<br>
                            {{ item.fields.paper_dcterms_temporal[0] }} - {{ item.fields.paper_dcterms_spatial[0] }}<br>
                            Score: {{ item._score | number:2 }}
                        </li>
                    </ol>
                    {% endverbatim %}
                    <pagination ng-show="searchResults" 
                                total-items="totalSearchResults"
                                ng-model="searchResultsPage"
                                ng-change="pageChanged()"
                                num-pages="numPages"
                                max-size="5"
                                class="pagination-sm"
                                rotate="false"
                                boundary-links="true"
                                items-per-page="20"
                                previous-text="&lsaquo;"
                                next-text="&rsaquo;"
                                first-text="&laquo;"
                                last-text="&raquo;">
                    </pagination>
                </div>

                <!-- tabs containing visualizations of search results -->
                <div class="col-sm-9">
                    <tabset>
                        <tab heading="Metadata">
                            <div class="row">
                                <div class="col-sm-6">
                                    <h2>Article types</h2>
                                    <nvd3-pie-chart
                                        data="articleTypesData"
                                        id="articleTypesChart"
                                        width="350"
                                        height="350"
                                        x="xFunction()"
                                        y="yFunction()"
                                        showLabels="true"
                                        tooltips="true">
                                            <svg class="remove-height"></svg>
                                    </nvd3-pie-chart>
                                </div>
                                <div class="col-sm-6">
                                    <h2>Distributions</h2>
                                    <nvd3-pie-chart
                                        data="distributionsData"
                                        id="DistributionsChart"
                                        width="350"
                                        height="350"
                                        x="xFunction()"
                                        y="yFunction()"
                                        showLabels="true"
                                        tooltips="true">
                                            <svg class="remove-height"></svg>
                                    </nvd3-pie-chart>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-12">
                                    <h2>Newspapers</h2>
                                    <nvd3-multi-bar-horizontal-chart
                                        data="newspapersData"
                                        id="newspapersChart"
                                        width="800"
                                        height="150"
                                        tooltips="true"
                                        showValues="true"
                                        showXAxis="true"
                                        margin="{left:100,top:0,bottom:0,right:0}">
                                            <svg class="remove-height"></svg>
                                    </nvd3-multi-bar-horizontal-chart>
                                </div>
                            </div>
                        </tab>
                        <tab heading="Word cloud">
                            <form>
                                <div class="row" style="margin-top: 10px">
                                    <div class="col-sm-3">
                                        <div class="form-group form-inline">
                                            <label class="control-label" for="wc-min-length">Min. word length:</label>
                                            <input type="number" class="form-control" id="wc-min-length" value="2" style="width:60px">
                                        </div>
                                    </div>
                                    <div class="col-sm-4">
                                        <div class="form-group form-inline">
                                            <label class="control-label" for="wc-max-words">Max. # words in cloud:</label>
                                                <input type="number" class="form-control" id="wc-max-words" value="100" style="width:70px">
                                        </div>
                                    </div>
                                    <div class="col-sm-4">
                                        <div class="form-group form-inline">
                                            <div class="checkbox" id="wc-remove-stopwords">
                                                <label><input type="checkbox" checked></label>
                                            </div>
                                            <label class="control-label" for="wc-remove-stopwords">Remove stopwords</label>
                                            <!--<button type="submit" class="btn btn-primary">Generate cloud</button>-->
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-12">
                                        <div class="form-group">
                                            <button type="submit" class="btn btn-primary">Generate cloud</button>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    {% verbatim %}
                                    <div class="col-sm-12" ng-init="dynamic = 3000">
                                        <progressbar max="totalSearchResults" value="dynamic"><span style="color:white; white-space:nowrap;">{{dynamic}} / {{totalSearchResults}}</span></progressbar>
                                    </div>
                                    {% endverbatim %}
                                </div>
                                <div class="row">
                                    <div class="col-sm-12">
                                        <div class="form-group">
                                            <button type="submit" class="btn btn-primary">Cancel cloud</button>
                                        </div>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-sm-12">
                                        <div class="form-group">
                                            <button type="submit" class="btn btn-primary">Generate cloud</button>
                                            <button type="submit" class="btn btn-primary">Shuffle words</button>
                                            <button type="submit" class="btn btn-primary">View stopwords</button>
                                            <button type="submit" class="btn btn-primary">Export cloud data</button>
                                        </div>
                                    </div>
                                </div>
                            </form>

                            <div class="row">
                                <div class="col-sm-12">
                                    <div class="fixed-width">
                                        <wordcloud data=wordCloudData></wordcloud>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-sm-12">
                                    <h2>Stopwords</h2>
                                    <tabset type="pills">
                                        <tab>
                                            <tab-heading>
                                                This query
                                            </tab-heading>
                                            <div class="col-sm-6">
                                                <table class="table table-striped">
                                                    <thead>
                                                        <tr>
                                                            <th>Word</th>
                                                            <th>Type</th>
                                                            <th>Remove</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                    <tr>
                                                        <td>groen</td>
                                                        <td>this query</td>
                                                        <td><a><span class="glyphicon glyphicon-remove-sign"></span></a></td>
                                                    </tr>
                                                    <tr>
                                                        <td>de</td>
                                                        <td>all queries</td>
                                                        <td><a><span class="glyphicon glyphicon-remove-sign"></span></a></td>
                                                    </tr>
                                                    <tr>
                                                        <td>het</td>
                                                        <td>all queries</td>
                                                        <td><a><span class="glyphicon glyphicon-remove-sign"></span></a></td>
                                                    </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                         </tab>
                                        <tab>
                                            <tab-heading>
                                                All queries
                                            </tab-heading>
                                            Stopwords for all queries
                                        </tab>
                                    </tabset>
                                </div>
                            </div>
                        </tab>

                        <tab heading="Time line">
                            <p>Display time line</p>
                        </tab>

                        <tab>
                            <tab-heading>
                                Article | <a href="#" tooltip="Close article tabs" tooltip-placement="right">x</a>
                            </tab-heading>

                            <div class="row">
                                <div class="col-sm-12" style="margin-top: 10px;">
                                    <div class="form-group">
                                        <button type="submit" class="btn btn-primary"><span class="glyphicon glyphicon-new-window"></span> Open in new tab</button>
                                        <button type="submit" class="btn btn-primary">Add to favorites</button>
                                        <button type="submit" class="btn btn-primary">Add to blacklist</button>
                                        <button type="submit" class="btn btn-primary"><span class="glyphicon glyphicon-new-window"></span> View in Delpher</button>
                                        <button type="submit" class="btn btn-primary"><span class="glyphicon glyphicon-remove"></span> Close</button>
                                    </div>
                                </div>
                            </div>

                        <!--
                            <div class="row">
                                <div class="col-sm-12">
                                    <div class="form-group">
                                        <button type="submit" class="btn btn-primary"><span class="glyphicon glyphicon-new-window"></span> Open in new tab</button>
                                        <button type="submit" class="btn btn-primary">Remove from favorites</button>
                                        <button type="submit" class="btn btn-primary">Remove from blacklist</button>
                                        <button type="submit" class="btn btn-primary"><span class="glyphicon glyphicon-new-window"></span> View in Delpher</button>
                                        <button type="submit" class="btn btn-primary"><span class="glyphicon glyphicon-remove"></span> Close</button>
                                    </div>
                                </div>
                            </div>
                        -->

                            <div class="row">
                                <div class="col-sm-12">
                                    <div class="form-group">
                                        <span class="label label-default"><span class="glyphicon glyphicon-star"></span> Favorite</span>
                                        <span class="label label-default"><span class="glyphicon glyphicon-ban-circle"></span> Blacklisted</span>
                                        <small>1934-06-19 - Het nieuws van den dag voor Nederlandsch-Indië</small>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-sm-12">
                                    <div>
                                        <img src="{% static 'image/mockup/scan.jpg' %}">
                                    </div>
                                </div>
                            </div>
                        </tab>

                        <tab>
                            <tab-heading>
                                Article OCR text | <a>x</a>
                            </tab-heading>
                            
                            <div class="row">
                                <div class="col-sm-12" style="margin-top: 10px;">
                                    <div class="form-group">
                                        <button type="submit" class="btn btn-primary"><span class="glyphicon glyphicon-new-window"></span> Open in new tab</button>
                                        <button type="submit" class="btn btn-primary">Add to favorites</button>
                                        <button type="submit" class="btn btn-primary">Add to blacklist</button>
                                        <button type="submit" class="btn btn-primary"><span class="glyphicon glyphicon-new-window"></span> View in Delpher</button>
                                        <button type="submit" class="btn btn-primary"><span class="glyphicon glyphicon-remove"></span> Close</button>
                                    </div>
                                </div>
                            </div>

                        <!--
                            <div class="row">
                                <div class="col-sm-12">
                                    <div class="form-group">
                                        <button type="submit" class="btn btn-primary"><span class="glyphicon glyphicon-new-window"></span> Open in new tab</button>
                                        <button type="submit" class="btn btn-primary">Remove from favorites</button>
                                        <button type="submit" class="btn btn-primary">Remove from blacklist</button>
                                        <button type="submit" class="btn btn-primary"><span class="glyphicon glyphicon-new-window"></span> View in Delpher</button>
                                        <button type="submit" class="btn btn-primary"><span class="glyphicon glyphicon-remove"></span> Close</button>
                                    </div>
                                </div>
                            </div>
                        -->

                            <div class="row">
                                <div class="col-sm-12">
                                    <span class="label label-default"><span class="glyphicon glyphicon-star"></span> Favorite</span>
                                    <span class="label label-default"><span class="glyphicon glyphicon-ban-circle"></span> Blacklisted</span>
                                    <small>1934-06-19 - Het nieuws van den dag voor Nederlandsch-Indië</small>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-sm-12">
                                    <div>
                                        <h3>Brigadier Lindemann op zijn „zwevende fiets"</h3>
                                        <p>
                                            An per homero contentiones. Has erat ornatus et, vivendum electram hendrerit ius ad. Vix ne primis mollis. Te mel tacimates persequeris, mei no phaedrum recteque.
                                        </p>
                                        <p>
                                            Nec ne odio alii mediocrem, eruditi ponderum et vis. No vel erant populo nostrum, idque ludus quodsi an vix. Vocent viderer at nec, mea eu noluisse rationibus. Est interesset intellegebat definitiones te, sonet volutpat vis at, nam habeo honestatis no. Ei dicat voluptatum deterruisset usu, sensibus definiebas ne his, at vix nisl consequat argumentum.
                                        </p>
                                        <p>
                                            Et ius noluisse patrioque, duo primis platonem ut. Amet duis ne eos. Mea soleat numquam an, sed error possim convenire no. At eam decore expetendis, putent noster assueverit id ius, maluisset concludaturque eu sea. Ad labore inimicus eos.
                                        </p>
                                        <p>
                                            Brute graece suscipit no vix, et scripta accusam mea, nibh conceptam vix id. Vis alii postea quodsi ut, mel alterum facilis ex. At pri ridens alienum concludaturque. Pri in habemus dignissim. Nonumy propriae delicata at eum. Nostrud sententiae ullamcorper at eos, vix mutat homero nonumes ea, nam agam ubique verterem in.
                                        </p>
                                        <p>
                                            Cu ludus animal sit, has vide quidam impetus et. Stet nobis incorrupte ut eam, eirmod timeam prodesset ex per, in altera iracundia cum. In veniam graecis eloquentiam cum, ne sed malorum fuisset. Civibus consectetuer concludaturque cu has, cu choro delenit vim, cibo tibique assentior et mei. Modo libris quo ad, ad elaboraret temporibus quo.
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </tab>

                        <tab>
                            <tab-heading>
                                Article word cloud | <a>x</a>
                            </tab-heading>

                            <div class="row">
                                <div class="col-sm-12" style="margin-top: 10px;">
                                    <div class="form-group">
                                        <button type="submit" class="btn btn-primary"><span class="glyphicon glyphicon-new-window"></span> Open in new tab</button>
                                        <button type="submit" class="btn btn-primary">Add to favorites</button>
                                        <button type="submit" class="btn btn-primary">Add to blacklist</button>
                                        <button type="submit" class="btn btn-primary"><span class="glyphicon glyphicon-new-window"></span> View in Delpher</button>
                                        <button type="submit" class="btn btn-primary"><span class="glyphicon glyphicon-remove"></span> Close</button>
                                    </div>
                                </div>
                            </div>

                        <!--
                            <div class="row">
                                <div class="col-sm-12">
                                    <div class="form-group">
                                        <button type="submit" class="btn btn-primary"><span class="glyphicon glyphicon-new-window"></span> Open in new tab</button>
                                        <button type="submit" class="btn btn-primary">Remove from favorites</button>
                                        <button type="submit" class="btn btn-primary">Remove from blacklist</button>
                                        <button type="submit" class="btn btn-primary"><span class="glyphicon glyphicon-new-window"></span> View in Delpher</button>
                                        <button type="submit" class="btn btn-primary"><span class="glyphicon glyphicon-remove"></span> Close</button>
                                    </div>
                                </div>
                            </div>
                        -->

                            <div class="row">
                                <div class="col-sm-12">
                                    <div class="form-group">
                                        <span class="label label-default"><span class="glyphicon glyphicon-star"></span> Favorite</span>
                                        <span class="label label-default"><span class="glyphicon glyphicon-ban-circle"></span> Blacklisted</span>
                                        <small>1934-06-19 - Het nieuws van den dag voor Nederlandsch-Indië</small>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-sm-12">
                                    <div>
                                        <wordcloud data=articleCloudData></wordcloud>
                                    </div>
                                </div>
                            </div>

                        </tab>
                    </tabset>
                </div>
            </div>

        </div>

        <script src="{% static 'angular/angular.js' %}"></script>
        <script src="{% static 'd3/d3.js' %}"></script>
        <script src="{% static 'nvd3/nv.d3.js' %}"></script>
        <script src="{% static 'angularjs-nvd3-directives/dist/angularjs-nvd3-directives.js' %}"></script>
        <script src="{% static 'd3.layout.cloud/d3.layout.cloud.js' %}"></script>
        <script src="{% static 'js/wordcloud.js' %}"></script>
        <script src="{% static 'angular-bootstrap/ui-bootstrap-tpls.js' %}"></script>
        <script src="{% static 'checklist-model/checklist-model.js' %}"></script>
        <script src="{% static 'angular-truncate-original/src/truncate.js' %}"></script>
        <script src="{% static 'js/controllers.js' %}"></script>
        <script src="{% static 'js/directives.js' %}"></script>
    </body>
</html>
